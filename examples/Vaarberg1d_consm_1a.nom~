#### Some Surface colors #####
surface R color (1 0 0) endsurface          # Red
surface O color (0.9 0.6 0) endsurface      # Orange
surface Y color (1 1 0) endsurface          # Yellow
surface L color (0.6 0.8 0) endsurface      # Lime
surface G color (0 0.9 0) endsurface        # Green
surface A color (0 0.9 0.7) endsurface      # Aqua
surface C color (0 1 1) endsurface          # Cyan
surface U color (0 0.5 1) endsurface        # Uniform
surface B color (0 0 1) endsurface          # Blue
surface P color (0.5 0 1) endsurface        # Purple
surface M color (1 0 1) endsurface          # Magenta
surface W color (0.9 0.9 0.9) endsurface    # White
surface D color (0.2 0.2 0.2) endsurface    # Dark

bank fL
    set		num		8		8		16		1		#		number		of		segments		
    set		rad		1.4		0.1		2.0		0.1		#		circle		radius		
    set		alfa		0		-20		20		2		#		sampling		angle		
    set		ratio		-0.2		-0.8		0.8		0.1		#		fractional		flare-out		
    set		hgt		0.7		0.1		1.5		0.05		#		height		of		each		cone		half		
    set		ty		1.5		-4		4		0.1		
    set		tz		3.6		-4		4		0.1		
    set		rx		-140		-180		180		10		#		rot		around		x		
endbank
bank tY
    set		num		8		3		10		1		#		number		of		segments		
    set		rad		0.7		0.1		1.0		0.1		#		circle		radius		
    set		alfa		0		-20		20		2		#		sampling		angle		
    set		ratio		0.2		-0.8		0.8		0.1		#		fractional		flare-out		
    set		hgt		0.6		0.1		1.5		0.05		#		height		of		each		cone		half		
    set		ty		2.6		-4		4		0.1		
    set		tz		2.3		-4		4		0.1		
    set		rx		-140		-180		180		10		#		rot		around		x		
endbank
bank tC
    set		num		8		4		10		1		
    set		rad		0.6		0.1		2.0		0.1		
    set		ratio		0.2		-0.8		0.8		0.1		
    set		hgt		0.6		0.1		1.5		0.05		
    set		ty		1.6		-4		6		0.1		
    set		tz		1.4		-4		4		0.1		
endbank
bank tB
    set		num		8		4		10		1		
    set		rad		1.3		0.1		2.0		0.1		
    set		ratio		-0.1		-0.8		0.8		0.1		
    set		hgt		0.7		0.1		1.5		0.05		
    set		ty		4		-4		6		0.1		
    set		tz		-1		-4		4		0.1		
endbank
bank tP
    set		num		8		4		10		1		
    set		rad		0.6		0.1		2.0		0.1		
    set		ratio		0.2		-0.8		0.8		0.1		
    set		hgt		0.3		0.1		1.5		0.05		
    set		tx		1.5		-4		4		0.1		
    set		ty		3.7		-4		4		0.1		
    set		tz		-0.9		-4		4		0.1		
    set		rz		-30		-180		180		10		
endbank
bank fM
    set		num		8		4		10		1		
    set		rad		1		0.1		2.0		0.1		
    set		ratio		0.4		-0.8		0.8		0.1		
    set		hgt		0.6		0.1		1.5		0.05		
    set		tx		2.4		-4		4		0.1		
    set		ty		3		-4		4		0.1		
    set		tz		-0.4		-4		4		0.1		
    set		rz		30		-180		180		10		
endbank
bank fR
    set		num		8		8		16		1		#		number		of		segments		
    set		rad		2.4		0.1		4.0		0.1		#		circle		radius		
    set		alfa		0		-20		20		2		#		sampling		angle		
    set		ratio		-0.4		-0.8		0.8		0.1		#		fractional		flare-out		
    set		hgt		0.4		0.1		1.5		0.05		#		height		of		each		cone		half		
    set		tx		3		-4		4		0.1		#		placement		x,y,z		
    set		ty		1.5		-4		4		0.1		
    set		tz		0.2		-4		4		0.1		
    set		rx		-90		-180		180		10		#		rot		around		x		
    set		rz		20		-180		180		10		#		rot		around		z		
endbank
bank fW
    set		num		16		8		16		1		#		number		of		segments		
    set		rad		5		1		6		0.1		#		circle		radius		
    set		alfa		0		-20		20		2		#		sampling		angle		
    set		ratio		-0.1		-0.8		0.8		0.1		#		fractional		flare-out		
    set		hgt		0.5		0.1		1.5		0.05		#		height		of		each		cone		half		
    set		tx		3.9		-4		6		0.1		#		placement		x,y,z		
    set		ty		0.6		-4		4		0.1		
    set		tz		-1.9		-4		4		0.1		
    set		rx		-90		-180		180		10		#		rot		around		x		
endbank
bank wrm
    set		rx		-20		-60		60		5		#		rot		around		x		
    set		ty		-1.8		-4		4		0.1		
    set		tz		0		-4		4		0.1		
endbank
bank frt
    set		rx		25		-60		60		5		#		rot		around		x		
    set		ty		-1.8		-4		4		0.1		
    set		tz		-2.5		-4		4		0.1		
endbank
funnel fL  ({expr $fL_num} {expr $fL_rad} {expr $fL_ratio} {expr $fL_hgt}) endfunnel
tunnel tY  ({expr $tY_num} {expr $tY_rad} {expr $tY_ratio} {expr $tY_hgt}) endtunnel
tunnel tC  ({expr $tC_num} {expr $tC_rad} {expr $tC_ratio} {expr $tC_hgt}) endtunnel
tunnel tB  ({expr $tB_num} {expr $tB_rad} {expr $tB_ratio} {expr $tB_hgt}) endtunnel
tunnel tP  ({expr $tP_num} {expr $tP_rad} {expr $tP_ratio} {expr $tP_hgt}) endtunnel
funnel fM  ({expr $fM_num} {expr $fM_rad} {expr $fM_ratio} {expr $fM_hgt}) endtunnel
funnel fR  ({expr $fR_num} {expr $fR_rad} {expr $fR_ratio} {expr $fR_hgt}) endfunnel
funnel fW  ({expr $fW_num} {expr $fW_rad} {expr $fW_ratio} {expr $fW_hgt}) endfunnel
group front
    instance ifL fL   surface L  rotate (0 0 1) ({expr $fL_alfa})   rotate (1 0 0) ({expr $fL_rx})            translate (0 {expr $fL_ty} {expr $fL_tz}) endinstance
    instance itY tY   surface Y  rotate (0 0 1) ({expr $tY_alfa})   rotate (1 0 0) ({expr $tY_rx})            translate (0 {expr $tY_ty} {expr $tY_tz}) endinstance
    instance itC tC   surface C  rotate (0 0 1) (0)   rotate (0 1 0) (90)     translate (0 {expr $tC_ty} {expr $tC_tz}) endinstance
endgroup
group worm
    instance itB tB   surface B  rotate (0 0 1) (0)   rotate (0 1 0) (90)   rotate (0 0 1) ({expr  $tB_ry})   translate (0 {expr $tB_ty} {expr $tB_tz}) endinstance
    instance itP tP   surface P  rotate (0 0 1) (0)   rotate (0 1 0) (90)   rotate (0 0 1) ({expr  $tP_rz})   translate ({expr  $tP_tx} {expr $tP_ty} {expr $tP_tz}) endinstance
    instance itP_ tP  surface P  rotate (0 0 1) (0)   rotate (0 1 0) (90)   rotate (0 0 1) ({expr -$tP_rz})   translate ({expr -$tP_tx} {expr $tP_ty} {expr $tP_tz}) endinstance
    instance ifM fM   surface M  rotate (0 0 1) (0)   rotate (1 0 0) (90)   rotate (0 0 1) ({expr  $fM_rz})   translate ({expr  $fM_tx} {expr $fM_ty} {expr $fM_tz}) endinstance
    instance ifM_ fM  surface M  rotate (0 0 1) (0)   rotate (1 0 0) (90)   rotate (0 0 1) ({expr -$fM_rz})   translate ({expr -$fM_tx} {expr $fM_ty} {expr $fM_tz}) endinstance
    instance ifR fR   surface R  rotate (0 0 1) ({expr $fR_alfa})  rotate (1 0 0) ({expr $fR_rx})  rotate (0 0 1) ({expr  $fR_rz})  translate ({expr  $fR_tx} {expr $fR_ty} {expr $fR_tz}) endinstance
    instance ifR_ fR  surface R  rotate (0 0 1) ({expr $fR_alfa})  rotate (1 0 0) ({expr $fR_rx})  rotate (0 0 1) ({expr -$fR_rz})  translate ({expr -$fR_tx} {expr $fR_ty} {expr $fR_tz}) endinstance
endgroup
group assembly
instance ifW    fW   surface W  rotate (1 0 0) ({expr $fW_rx})   translate (0  {expr $fW_ty}  {expr $fW_tz})  endinstance
instance ifront front           rotate (1 0 0) ({expr $frt_rx})  translate (0  {expr $frt_ty} {expr $frt_tz}) endinstance
instance iworm  worm surface Y           rotate (1 0 0) ({expr $wrm_rx})  translate (0  {expr $wrm_ty} {expr $wrm_tz}) endinstance
endgroup
instance iall   assembly     scale ( 0.3 0.3 0.3 )   rotate (1 0 0) (-90)   endinstance

##### The following is the saved work of last time. #####

##### The added faces. #####
mesh consolidatedmesh
    face consolidatedface0 (ifM_hc2 ifW_hc14 ifW_hc10 ifM__hc2 ) endface
endmesh

####Create an instance of the consolidated mesh here.####

instance cm1 consolidatedmesh endinstance
